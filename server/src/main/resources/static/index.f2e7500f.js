class e{displayWord(e){const t=document.querySelector("#word-container");t.innerHTML="";for(let s of e){let e=document.createElement("div");e.innerText=s,t.appendChild(e)}}}class t{constructor(){this.wordSelectMode=!1,this.selectedItems=[],this.firstSelectedItem,this.gridArea=null,this.words=[],this.foundWords=[],this.wordsInPuzzle=[]}getCellsInRange(e,t){let s=[];if((e.x>t.x||e.y>t.y)&&([t,e]=[e,t]),e.y===t.y)for(let r=e.x;r<=t.x;r++)s.push(this.gridArea.querySelector(`td[data-x="${r}"][data-y="${t.y}"]`));else if(e.x===t.x)for(let r=e.y;r<=t.y;r++)s.push(this.gridArea.querySelector(`td[data-x="${t.x}"][data-y="${r}"]`));else if(t.y-e.y==t.x-e.x){let r=t.y-e.y;for(let t=0;t<=r;t++)s.push(this.gridArea.querySelector(`td[data-x="${e.x+t}"][data-y="${e.y+t}"]`))}return s}renderGrid(t,s,r){const d=new e;this.wordsInPuzzle=r,d.displayWord(this.wordsInPuzzle);var i=document.getElementsByClassName("grid-area")[0];i.lastChild&&i.removeChild(i.lastChild),this.gridArea=i;for(var o=document.createElement("table"),a=document.createElement("tbody"),l=0;l<t;l++){for(var n=document.createElement("tr"),c=0;c<t;c++){var u=document.createElement("td");let e=s[l][c];var h=document.createTextNode(e);u.appendChild(h),u.setAttribute("data-x",l),u.setAttribute("data-y",c),u.setAttribute("data-letter",e),n.appendChild(u)}a.appendChild(n)}o.appendChild(a),i.appendChild(o),o.addEventListener("mousedown",(e=>{this.wordSelectMode=!0;const t=e.target;let s=+t.getAttribute("data-x"),r=+t.getAttribute("data-y"),d=t.getAttribute("data-letter");this.firstSelectedItem={x:s,y:r,letter:d,cell:t}})),o.addEventListener("mouseup",(e=>{this.wordSelectMode=!1;const t=this.selectedItems.reduce(((e,t)=>e+t.getAttribute("data-letter")),""),s=t.split("").reverse().join("");if(-1!==this.words.indexOf(t)?this.foundWords.push(t):-1!==this.words.indexOf(s)?this.foundWords.push(s):this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=[],this.wordsInPuzzle=this.wordsInPuzzle.filter((e=>!this.foundWords.includes(e))),console.log("Found words:",this.foundWords),console.log("Words In Puzzle",this.wordsInPuzzle),0===this.wordsInPuzzle.length){d.displayWord(this.wordsInPuzzle),d.displayWord(["Congratulation!!!"]),stopTimer();const e=getTimerValue();console.log(e)}else d.displayWord(this.wordsInPuzzle)})),o.addEventListener("mousemove",(e=>{if(this.wordSelectMode){const t=e.target;let s=+t.getAttribute("data-x"),r=+t.getAttribute("data-y");t.getAttribute("data-letter");this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=this.getCellsInRange(this.firstSelectedItem,{x:s,y:r}),this.selectedItems.forEach((e=>e.classList.add("selected")))}}))}}const s=document.querySelector(".submit-word"),r=document.querySelector(".submit-word-Random");new e;s.addEventListener("click",(async()=>{const e=new t,s=document.querySelector("#add-word").value.split(","),r=document.querySelector("#grid-size").value;let d=await async function(e,t){let s=await fetch("./wordgrid",{method:"POST",body:JSON.stringify({size:e,words:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}),r=await s.json();return r}(r,s);resetTimer();let i=d.wordInPuzzle,o=d.contents.map((e=>e.split("")));e.words=i,e.renderGrid(r,o,i),startTimer()})),r.addEventListener("click",(async()=>{const e=new t;let s=await async function(){let e=await fetch("./wordgrid/randomWordGrid",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}),t=await e.json();return t}();resetTimer();let r=s.wordInPuzzle,d=s.gridSize,i=s.contents.map((e=>e.split("")));e.words=r,e.renderGrid(d,i,r),startTimer()}));
//# sourceMappingURL=index.f2e7500f.js.map
