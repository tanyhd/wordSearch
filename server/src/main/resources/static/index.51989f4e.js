class e{displayWord(e){const t=document.querySelector("#word-container");t.innerHTML="";for(let s of e){let e=document.createElement("div");e.innerText=s,t.appendChild(e)}}}class t{constructor(){this.wordSelectMode=!1,this.selectedItems=[],this.firstSelectedItem,this.gridArea=null,this.words=[],this.foundWords=[],this.wordsInPuzzle=[]}getCellsInRange(e,t){let s=[];if((e.x>t.x||e.y>t.y)&&([t,e]=[e,t]),e.y===t.y)for(let d=e.x;d<=t.x;d++)s.push(this.gridArea.querySelector(`td[data-x="${d}"][data-y="${t.y}"]`));else if(e.x===t.x)for(let d=e.y;d<=t.y;d++)s.push(this.gridArea.querySelector(`td[data-x="${t.x}"][data-y="${d}"]`));else if(t.y-e.y==t.x-e.x){let d=t.y-e.y;for(let t=0;t<=d;t++)s.push(this.gridArea.querySelector(`td[data-x="${e.x+t}"][data-y="${e.y+t}"]`))}return s}renderGrid(t,s,d){const r=new e;this.wordsInPuzzle=d,r.displayWord(this.wordsInPuzzle);var o=document.getElementsByClassName("grid-area")[0];o.lastChild&&o.removeChild(o.lastChild),this.gridArea=o;for(var l=document.createElement("table"),i=document.createElement("tbody"),a=0;a<t;a++){for(var n=document.createElement("tr"),c=0;c<t;c++){var u=document.createElement("td");let e=s[a][c];var h=document.createTextNode(e);u.appendChild(h),u.setAttribute("data-x",a),u.setAttribute("data-y",c),u.setAttribute("data-letter",e),n.appendChild(u)}i.appendChild(n)}l.appendChild(i),o.appendChild(l),l.addEventListener("mousedown",(e=>{this.wordSelectMode=!0;const t=e.target;let s=+t.getAttribute("data-x"),d=+t.getAttribute("data-y"),r=t.getAttribute("data-letter");this.firstSelectedItem={x:s,y:d,letter:r,cell:t}})),l.addEventListener("mouseup",(e=>{this.wordSelectMode=!1;const t=this.selectedItems.reduce(((e,t)=>e+t.getAttribute("data-letter")),""),s=t.split("").reverse().join("");-1!==this.words.indexOf(t)?this.foundWords.push(t):-1!==this.words.indexOf(s)?this.foundWords.push(s):this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=[],this.wordsInPuzzle=this.wordsInPuzzle.filter((e=>!this.foundWords.includes(e))),console.log("Found words:",this.foundWords),console.log("Words In Puzzle",this.wordsInPuzzle),0===this.wordsInPuzzle.length?(r.displayWord(this.wordsInPuzzle),r.displayWord(["Congratulation!!!"])):r.displayWord(this.wordsInPuzzle)})),l.addEventListener("mousemove",(e=>{if(this.wordSelectMode){const t=e.target;let s=+t.getAttribute("data-x"),d=+t.getAttribute("data-y");t.getAttribute("data-letter");this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=this.getCellsInRange(this.firstSelectedItem,{x:s,y:d}),this.selectedItems.forEach((e=>e.classList.add("selected")))}}))}}const s=document.querySelector(".submit-word");new e;s.addEventListener("click",(async()=>{const e=new t,s=document.querySelector("#add-word").value.split(","),d=document.querySelector("#grid-size").value;let r=await async function(e,t){let s=await fetch("./wordgrid",{method:"POST",body:JSON.stringify({size:e,words:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}),d=await s.json();return d}(d,s),o=r.wordInPuzzle,l=r.contents.map((e=>e.split("")));e.words=o,e.renderGrid(d,l,o),console.log("Words In Puzzle: ",o),console.log("Contents Array: ",l)}));
//# sourceMappingURL=index.51989f4e.js.map
