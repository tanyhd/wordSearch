class e{displayWord(e){const t=document.querySelector("#word-container");t.innerHTML="";for(let d of e){let e=document.createElement("div");e.innerText=d,t.appendChild(e)}}}class t{constructor(){this.wordSelectMode=!1,this.selectedItems=[],this.firstSelectedItem,this.gridArea=null,this.words=[],this.foundWords=[],this.wordsInPuzzle=[]}getCellsInRange(e,t){let d=[];if((e.x>t.x||e.y>t.y)&&([t,e]=[e,t]),e.y===t.y)for(let s=e.x;s<=t.x;s++)d.push(this.gridArea.querySelector(`td[data-x="${s}"][data-y="${t.y}"]`));else if(e.x===t.x)for(let s=e.y;s<=t.y;s++)d.push(this.gridArea.querySelector(`td[data-x="${t.x}"][data-y="${s}"]`));else if(t.y-e.y==t.x-e.x){let s=t.y-e.y;for(let t=0;t<=s;t++)d.push(this.gridArea.querySelector(`td[data-x="${e.x+t}"][data-y="${e.y+t}"]`))}return d}renderGrid(t,d,s){const r=new e;this.wordsInPuzzle=s,r.displayWord(this.wordsInPuzzle);var o=document.getElementsByClassName("grid-area")[0];o.lastChild&&o.removeChild(o.lastChild),this.gridArea=o;for(var i=document.createElement("table"),a=document.createElement("tbody"),n=0;n<t;n++){for(var l=document.createElement("tr"),c=0;c<t;c++){var u=document.createElement("td");let e=d[n][c];var h=document.createTextNode(e);u.appendChild(h),u.setAttribute("data-x",n),u.setAttribute("data-y",c),u.setAttribute("data-letter",e),l.appendChild(u)}a.appendChild(l)}i.appendChild(a),o.appendChild(i),i.addEventListener("mousedown",(e=>{this.wordSelectMode=!0;const t=e.target;let d=+t.getAttribute("data-x"),s=+t.getAttribute("data-y"),r=t.getAttribute("data-letter");this.firstSelectedItem={x:d,y:s,letter:r,cell:t}})),i.addEventListener("mouseup",(e=>{this.wordSelectMode=!1;const t=this.selectedItems.reduce(((e,t)=>e+t.getAttribute("data-letter")),""),d=t.split("").reverse().join("");-1!==this.words.indexOf(t)?this.foundWords.push(t):-1!==this.words.indexOf(d)?this.foundWords.push(d):this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=[],this.wordsInPuzzle=this.wordsInPuzzle.filter((e=>!this.foundWords.includes(e))),console.log("Found words:",this.foundWords),console.log("Words In Puzzle",this.wordsInPuzzle),0===this.wordsInPuzzle.length?(r.displayWord(this.wordsInPuzzle),r.displayWord(["Congratulation!!!"])):r.displayWord(this.wordsInPuzzle)})),i.addEventListener("mousemove",(e=>{if(this.wordSelectMode){const t=e.target;let d=+t.getAttribute("data-x"),s=+t.getAttribute("data-y");t.getAttribute("data-letter");this.selectedItems.forEach((e=>e.classList.remove("selected"))),this.selectedItems=this.getCellsInRange(this.firstSelectedItem,{x:d,y:s}),this.selectedItems.forEach((e=>e.classList.add("selected")))}}))}}const d=document.querySelector(".submit-word"),s=document.querySelector(".submit-word-Random");new e;d.addEventListener("click",(async()=>{const e=new t,d=document.querySelector("#add-word").value.split(","),s=document.querySelector("#grid-size").value;let r=await async function(e,t){let d=await fetch("./wordgrid",{method:"POST",body:JSON.stringify({size:e,words:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}),s=await d.json();return s}(s,d),o=r.wordInPuzzle,i=r.contents.map((e=>e.split("")));e.words=o,e.renderGrid(s,i,o)})),s.addEventListener("click",(async()=>{const e=new t;let d=await async function(){let e=await fetch("./wordgrid",{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8"}}),t=await e.json();return t}(),s=d.wordInPuzzle,r=d.gridSize,o=d.contents.map((e=>e.split("")));e.words=s,e.renderGrid(r,o,s)}));
//# sourceMappingURL=index.154b6629.js.map
